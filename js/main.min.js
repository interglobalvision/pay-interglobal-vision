Site={mobileThreshold:601,init:function(){var e=this;e.Stripe.init(),$(window).resize(function(){e.onResize()})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var e=$(this).html();e=e.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(e)})}},Site.Stripe={$form:$("#payment-form"),init:function(){var e=this;Stripe.setPublishableKey("pk_test_QJv0NVjinlteY6ji0HOrah9n"),e.createToken()},createToken:function(){var e=this;e.$form.submit(function(i){return $("#payment-response").removeClass("show approved declined").html("&nbsp;"),e.$form.find(".submit").prop("disabled",!0),Stripe.card.createToken(e.$form,e.stripeResponseHandler.bind(e)),!1})},stripeResponseHandler:function(e,i){var t=this;if(i.error)$("#payment-response").addClass("show declined").html(i.error.message),t.$form.find(".submit").prop("disabled",!1);else{var n=i.id;t.$form.append($('<input type="hidden" name="stripeToken">').val(n));var r=JSON.stringify(t.$form.serializeArray()),s=$.ajax({url:"charge.php",method:"POST",data:{form:r}});s.done(function(e){t.$form.find("input[type=text], textarea").val(""),t.$form.find(".submit").prop("disabled",!1),"authorized"==e&&$("#payment-response").addClass("show authorized").html("Your payment has been authorized. Thank you.")}),s.fail(function(e,i){t.$form.find(".submit").prop("disabled",!1),$("#payment-response").addClass("show declined").html(i+". Please try again.")})}}},jQuery(document).ready(function(){"use strict";Site.init()});
//# sourceMappingURL=/main.min.js.map