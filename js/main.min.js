Site={mobileThreshold:601,init:function(){var e=this;e.Stripe.init(),$(window).resize(function(){})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var e=$(this).html();e=e.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(e)})}},Site.Stripe={$form:$("#payment-form"),init:function(){var e=this;Stripe.setPublishableKey("pk_test_QJv0NVjinlteY6ji0HOrah9n"),e.createToken()},createToken:function(){var e=this;e.$form.submit(function(){return $("#payment-response").removeClass("show approved declined").html("&nbsp;"),e.$form.find(".submit").prop("disabled",!0),Stripe.card.createToken(e.$form,e.stripeResponseHandler.bind(e)),!1})},stripeResponseHandler:function(e,i){var t=this;if(i.error)$("#payment-response").addClass("show declined").html(i.error.message),t.$form.find(".submit").prop("disabled",!1);else{var r=i.id;t.$form.append($('<input id="stripeToken" type="hidden" name="stripeToken">').val(r));var n=JSON.stringify(t.$form.serializeArray()),a=$.ajax({url:"charge.php",method:"POST",data:{form:n}});a.done(function(e){t.$form.find("input[type=text], textarea").val(""),t.$form.find(".submit").prop("disabled",!1),$("#stripeToken").remove();var i,r;if("authorized"===e)i="authorized",r="Your payment has been authorized. Thank you.";else if("manual_review"===e)i="authorized",r="Your payment is in review. We will contact you at the provided email if any further action is required. Thank you.";else try{var n=JSON.parse(e);i="declined",r=n.message}catch(a){i="declined",r=e}$("#payment-response").addClass("show "+i).html(r)}),a.fail(function(e,i){t.$form.find(".submit").prop("disabled",!1),$("#payment-response").addClass("show declined").html(i+". Please try again.")})}}},jQuery(document).ready(function(){"use strict";Site.init()});
//# sourceMappingURL=/main.min.js.map