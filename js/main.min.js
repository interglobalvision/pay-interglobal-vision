Site={mobileThreshold:601,init:function(){var e=this;e.Stripe.init(),$(window).resize(function(){})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var e=$(this).html();e=e.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(e)})}},Site.Stripe={$form:$("#payment-form"),testKeyA:"pk_test_QJv0NVjinlteY6ji0HOrah9n",liveKeyA:"pk_live_1iLay9wxJyeywHOFX4Q9kMtl",testKeyB:"pk_test_XqjhUs5z83vj7X4uUohFC2J300RpoMc1nB",liveKeyB:"pk_live_k8J53br7XdzaJwVUZzJHSk9i00oryWkPx3",init:function(){var e=this;e.createToken()},createToken:function(){var e=this;e.$form.submit(function(){$("#payment-response").removeClass("show approved declined").html("&nbsp;"),e.$form.find(".submit").prop("disabled",!0);var i="a"===$("#destination-select").val()?e.testKeyA:e.testKeyB;return console.log(i),Stripe.setPublishableKey(i),Stripe.card.createToken(e.$form,e.stripeResponseHandler.bind(e)),!1})},stripeResponseHandler:function(e,i){var t=this;if(i.error)$("#payment-response").addClass("show declined").html(i.error.message),t.$form.find(".submit").prop("disabled",!1);else{var n=i.id;t.$form.append($('<input id="stripeToken" type="hidden" name="stripeToken">').val(n));var r=JSON.stringify(t.$form.serializeArray()),a=$.ajax({url:"charge.php",method:"POST",data:{form:r}});a.done(function(e){var i,n;if("authorized"===e)t.$form.find("input[name=amount]").val(""),i="authorized",n="Your payment has been authorized. Thank you.";else if("manual_review"===e)t.$form.find("input[name=amount]").val(""),i="authorized",n="Your payment is in review. We will contact you at the provided email if any further action is required. Thank you.";else try{var r=JSON.parse(e);i="declined",n=r.message}catch(a){i="declined",n=e}$("#payment-response").addClass("show "+i).html(n),$("#stripeToken").remove(),t.$form.find(".submit").prop("disabled",!1)}),a.fail(function(e,i){t.$form.find(".submit").prop("disabled",!1),$("#payment-response").addClass("show declined").html(i+". Please try again.")})}}},jQuery(document).ready(function(){"use strict";Site.init()});
//# sourceMappingURL=/main.min.js.map